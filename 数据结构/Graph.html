<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<script src="./dictionary.js"></script>
	<script src="./Queue.js"></script>
</head>
<body>
	<script>
		function Graph() {
			this.vertices = [];
			this.adjList = new Dictionary();

			var initializeColor = function(){
				 var color = [];
				 for (var i=0; i<this.vertices.length; i++){
				 	color[this.vertices[i]] = 'white';
				 }
				 return color;
			}; 

			this.addVertex = function(v) {
				this.vertices.push(v);
				this.adjList.set(v, []);
			}

			this.addEdge = function(v, w) {
				this.adjList.get(v).push(w);
				this.adjList.get(w).push(v);
			}

			this.toString = function(){
			 var s = '';
			 for (var i=0; i<this.vertices.length; i++){ //{10}
				 s += this.vertices[i] + ' -> ';
				 var neighbors = this.adjList.get(this.vertices[i]); //{11}
				 for (var j=0; j<neighbors.length; j++){ //{12}
				 	s += neighbors[j] + ' ';
				 }
				 s += '\n'; //{13}
			 }
			 return s;
			};

			this.bfs = function(v, callback) {
				var color = initializeColor.call(this),
				queue = new Queue();
				queue.enqueue(v);
				console.log(color)

				while(!queue.isEmpty()) {
					var u = queue.dequeue(),
					neighbors = this.adjList.get(u);
					color[u] = 'grey';
					for(var i = 0; i < neighbors.length;i++){
						var w = neighbors[i];
						if(color[w] === 'white') {
							color[w] = 'grey';
							queue.enqueue(w);
						}
					}
					color[u] = 'black';
					if(callback) {
						callback(u);
					}
				}
			}
		}



		var graph = new Graph();
		var myVertices = ['A','B','C','D','E','F','G','H','I']; //{7}
		for (var i=0; i<myVertices.length; i++){ //{8}
		 graph.addVertex(myVertices[i]);
		}
		graph.addEdge('A', 'B'); //{9}
		graph.addEdge('A', 'C');
		graph.addEdge('A', 'D');
		graph.addEdge('C', 'D');
		graph.addEdge('C', 'G');
		graph.addEdge('D', 'G');
		graph.addEdge('D', 'H');
		graph.addEdge('B', 'E');
		graph.addEdge('B', 'F');
		graph.addEdge('E', 'I');

		console.log(graph.toString())

		function printNode(value){ //{16}
		 	console.log('Visited vertex: ' + value); //{17}
		}
		graph.bfs(myVertices[0], printNode);
	</script>
</body>
</html>