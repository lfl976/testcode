<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        var imageSmoother = function(img) {
    const m = img.length, n = img[0].length;
    const res = Array(img.length).fill([]);
    var p = [[-1, -1], [-1, 0], [-1, 1], [0, 1], [1, 1], [1, 0], [1, -1], [0, -1]]
    for(let i = 0; i < m; i++) {
        for(j = 0; j < n;j ++) {
            const arr = [[i, j]];
            p.forEach(item => {
                const x = item[0] + i;
                const y = item[1] + j;
                if(x >=0 && y >= 0 && x < m && y < n) {
                    arr.push([x, y]);
                }
            })
            console.log(arr)
            let sum = 0, avg = 0;
            arr.forEach(([x, y]) => {
                sum += img[x][y];
                
            })
            
            avg = Math.floor(sum / (arr.length));
            // if(i === 1 && j === 0) {
                    console.log(res[1][0])
                // }
            res[i][j] = avg;
        }
    }
    return res;
};
// imageSmoother([[100,200,100],[200,50,200],[100,200,100]])
    </script>
</body>
</html>