<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=	, initial-scale=	">
	<title>Document</title>
</head>
<body>
	<script>
		var index = 0
		var done = false
		console.log(index)
		function reqListener () {
			done = true
  			console.log(this.responseText);
  			clearInterval(timeid)
		}
		var oReq = new XMLHttpRequest();
		oReq.timeout = 2000
		oReq.addEventListener("load", reqListener);
		oReq.addEventListener("timeout", (e) => {
			clearInterval(timeid)
			return {code:2}
		} );
		oReq.open("GET", "http://127.0.0.1:3000/");
		oReq.send();
		var timeid = setInterval(() => {
				console.log(++index)

		},1000)

	</script>	
</body>
</html>	